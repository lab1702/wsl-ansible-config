---
- hosts: localhost
  connection: local
  become: true

  tasks:
  - name: update packages
    apt:
      name: "*"
      state: latest
      update_cache: true

  - name: install packages
    package:
      name:
        - build-essential
        - gfortran
        - rust-all
        - golang
        - python3
        - python3-pip
        - python3-setuptools
        - python3-wheel
        - python3-venv
        - python3-virtualenv
        - git
        - docker.io
        - docker-compose
        - vim
        - ripgrep
        - figlet
        - dos2unix
        - nvtop

  - name: install snaps
    snap:
      name:
        - btop
        - htop
        - glances
        - cointop

  - name: install snaps classic mode
    snap:
      classic: yes
      name:
        - emacs

  - name: add user to groups
    user:
      name: "{{ host_user }}"
      groups:
        - docker
      append: yes
